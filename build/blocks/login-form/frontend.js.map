{"version":3,"file":"blocks/login-form/frontend.js","mappings":";;;;;AAAAA,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EAClD,MAAMC,SAAS,GAAGF,QAAQ,CAACG,cAAc,CAAC,YAAY,CAAC;EACvD;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEAD,SAAS,EAAED,gBAAgB,CAAC,QAAQ,EAAE,MAAOG,KAAK,IAAK;IACrDA,KAAK,CAACC,cAAc,EAAE;IAEtB,MAAMC,WAAW,GAAGJ,SAAS,CAACK,aAAa,CAAC,eAAe,CAAC;IAE5D,MAAMC,QAAQ,GAAG;MACfC,UAAU,EAAEP,SAAS,CAACK,aAAa,CAAC,WAAW,CAAC,CAACG,KAAK;MACtDC,QAAQ,EAAET,SAAS,CAACK,aAAa,CAAC,cAAc,CAAC,CAACG;IACpD,CAAC;;IAED;IACA;;IAEAJ,WAAW,CAACM,SAAS,GAAI;AAC7B;AACA;AACA;AACA,KAAK;IAGD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACC,aAAa,CAACC,MAAM,EAAE;MACjDC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACb,QAAQ;IAC/B,CAAC,CAAC;IAEFc,OAAO,CAACC,GAAG,CAACV,QAAQ,CAAC;IAErB,MAAMW,YAAY,GAAG,MAAMX,QAAQ,CAACY,IAAI,EAAE;IAE1C,IAAID,YAAY,CAACE,MAAM,KAAK,CAAC,EAAE;MAC7BpB,WAAW,CAACM,SAAS,GAAI;AAC/B;AACA;AACA;AACA,OAAO;MACDe,QAAQ,CAACC,MAAM,EAAE;IACnB,CAAC,MAAM;MACL;MACAtB,WAAW,CAACM,SAAS,GAAI;AAC/B;AACA;AACA;AACA,OAAO;IACH;EACF,CAAC,CAAC;AACJ,CAAC,CAAC,C","sources":["webpack://@wp-mos/blocks/./src/blocks/login-form/frontend.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n  const loginForm = document.getElementById(\"login-form\");\n  // const openModalBtn = document.querySelectorAll(\".open-modal\");\n  // const modalEl = document.querySelector(\".wp-block-mos-blocks-auth-modal\");\n  // const modalCloseEl = document.querySelectorAll(\n  //   \".modal-overlay, .modal-btn-close\"\n  // );\n\n  // openModalBtn.forEach((el) => {\n  //   el.addEventListener(\"click\", (event) => {\n  //     event.preventDefault();\n  //\n  //     modalEl.classList.add(\"modal-show\");\n  //   });\n  // });\n\n  // modalCloseEl.forEach((el) => {\n  //   el.addEventListener(\"click\", (event) => {\n  //     event.preventDefault();\n  //\n  //     modalEl.classList.remove(\"modal-show\");\n  //   });\n  // });\n\n  // const tabs = document.querySelectorAll(\".tabs a\");\n  // const loginForm = document.querySelector(\"#signin-tab\");\n  // const signupForm = document.querySelector(\"#signup-tab\");\n\n  // tabs.forEach((tab) => {\n  //   tab.addEventListener(\"click\", (event) => {\n  //     event.preventDefault();\n  //\n  //     tabs.forEach((currentTab) => {\n  //       currentTab.classList.remove(\"active-tab\");\n  //     });\n  //\n  //     event.currentTarget.classList.add(\"active-tab\");\n  //\n  //     const activeTab = event.currentTarget.getAttribute(\"href\");\n  //\n  //     if (activeTab === \"#signin-tab\") {\n  //       loginForm.style.display = \"block\";\n  //       signupForm.style.display = \"none\";\n  //     } else {\n  //       loginForm.style.display = \"none\";\n  //       signupForm.style.display = \"block\";\n  //     }\n  //   });\n  // });\n\n  // signupForm?.addEventListener(\"submit\", async (event) => {\n  //   event.preventDefault();\n  //\n  //   const signupFieldset = signupForm.querySelector(\"fieldset\");\n  //   signupFieldset.setAttribute(\"disabled\", true);\n  //\n  //   const signupStatus = signupForm.querySelector(\"#signup-status\");\n  //   signupStatus.innerHTML = `\n  //     <div class=\"modal-status modal-status-info\">\n  //       Please wait! We are creating your account.\n  //     </div>\n  //   `;\n  //\n  //   const formData = {\n  //     username: signupForm.querySelector(\"#su-name\").value,\n  //     email: signupForm.querySelector(\"#su-email\").value,\n  //     password: signupForm.querySelector(\"#su-password\").value,\n  //   };\n  //\n  //   const response = await fetch(mos_auth_rest.signup, {\n  //     method: \"POST\",\n  //     headers: {\n  //       \"Content-Type\": \"application/json\",\n  //     },\n  //     body: JSON.stringify(formData),\n  //   });\n  //\n  //   const responseJSON = await response.json();\n  //\n  //   if (responseJSON.status === 2) {\n  //     signupStatus.innerHTML = `\n  //       <div class=\"modal-status modal-status-success\">\n  //         Success! Your account has been created.\n  //       </div>\n  //     `;\n  //     location.reload();\n  //   } else {\n  //     signupFieldset.removeAttribute(\"disabled\");\n  //     signupStatus.innerHTML = `\n  //       <div class=\"modal-status modal-status-danger\">\n  //         Unable to create account! Please try again later.\n  //       </div>\n  //     `;\n  //   }\n  // });\n\n  loginForm?.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n\n    const loginStatus = loginForm.querySelector(\"#login-status\");\n\n    const formData = {\n      user_login: loginForm.querySelector(\"#si-email\").value,\n      password: loginForm.querySelector(\"#si-password\").value,\n    };\n\n    // const signinFieldset = loginForm.querySelector(\"fieldset\");\n    // signinFieldset.setAttribute(\"disabled\", true);\n\n    loginStatus.innerHTML = `\n      <div class=\"modal-status modal-status-info\">\n        Please wait! We are logging you in.\n      </div>\n    `;\n\n\n    const response = await fetch(mos_auth_rest.signin, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(formData),\n    });\n\n    console.log(response);\n\n    const responseJSON = await response.json();\n\n    if (responseJSON.status === 2) {\n      loginStatus.innerHTML = `\n        <div class=\"modal-status modal-status-success\">\n          Success! You are now logged in.\n        </div>\n      `;\n      location.reload();\n    } else {\n      // signinFieldset.removeAttribute(\"disabled\");\n      loginStatus.innerHTML = `\n        <div class=\"modal-status modal-status-danger\">\n          Invalid credentials! Please try again later.\n        </div>\n      `;\n    }\n  });\n});\n"],"names":["document","addEventListener","loginForm","getElementById","event","preventDefault","loginStatus","querySelector","formData","user_login","value","password","innerHTML","response","fetch","mos_auth_rest","signin","method","headers","body","JSON","stringify","console","log","responseJSON","json","status","location","reload"],"sourceRoot":""}