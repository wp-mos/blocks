{"version":3,"file":"blocks/register-form/frontend.js","mappings":";;;;;AAAAA,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EAClD,MAAMC,YAAY,GAAGF,QAAQ,CAACG,cAAc,CAAC,eAAe,CAAC;EAE7DD,YAAY,EAAED,gBAAgB,CAAC,QAAQ,EAAE,MAAOG,KAAK,IAAK;IACxDA,KAAK,CAACC,cAAc,EAAE;IAEtB,MAAMC,cAAc,GAAGJ,YAAY,CAACK,aAAa,CAAC,kBAAkB,CAAC;IACrE,MAAMC,oBAAoB,GAAGN,YAAY,CAACK,aAAa,CAAC,yBAAyB,CAAC,CAACE,KAAK;IACxF,MAAMC,2BAA2B,GAAGR,YAAY,CAACK,aAAa,CAAC,iCAAiC,CAAC,CAACE,KAAK;IAEvGH,cAAc,CAACK,SAAS,GAAI;AAChC;AACA;AACA;AACA,KAAK;IAED,IAAIH,oBAAoB,KAAKE,2BAA2B,EAAE;MACxDJ,cAAc,CAACK,SAAS,GAAI;AAClC;AACA;AACA;AACA,KAAK;MACC;IACF;IAEA,MAAMC,QAAQ,GAAG;MACfC,IAAI,EAAEX,YAAY,CAACK,aAAa,CAAC,qBAAqB,CAAC,CAACE,KAAK;MAC7DK,OAAO,EAAEZ,YAAY,CAACK,aAAa,CAAC,wBAAwB,CAAC,CAACE,KAAK;MACnEM,GAAG,EAAEb,YAAY,CAACK,aAAa,CAAC,oBAAoB,CAAC,CAACE,KAAK;MAC3DO,KAAK,EAAEd,YAAY,CAACK,aAAa,CAAC,sBAAsB,CAAC,CAACE,KAAK;MAC/DQ,QAAQ,EAAET,oBAAoB;MAC9BU,eAAe,EAAER;IACnB,CAAC;IAED,MAAMS,QAAQ,GAAG,MAAMC,KAAK,CAACC,aAAa,CAACC,MAAM,EAAE;MACjDC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACf,QAAQ;IAC/B,CAAC,CAAC;IAEF,MAAMgB,YAAY,GAAG,MAAMT,QAAQ,CAACU,IAAI,EAAE;IAE1C,IAAID,YAAY,CAACE,MAAM,KAAK,CAAC,EAAE;MAC7BxB,cAAc,CAACK,SAAS,GAAI;AAClC;AACA;AACA;AACA,OAAO;MACDoB,QAAQ,CAACC,MAAM,EAAE;IACnB,CAAC,MAAM;MACL1B,cAAc,CAACK,SAAS,GAAI;AAClC;AACA;AACA;AACA,OAAO;IACH;EACF,CAAC,CAAC;AAEJ,CAAC,CAAC,C","sources":["webpack://@wp-mos/blocks/./src/blocks/register-form/frontend.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n  const registerForm = document.getElementById('register-form');\n\n  registerForm?.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n\n    const registerStatus = registerForm.querySelector(\"#register-status\");\n    const registerFormPassword = registerForm.querySelector(\"#register-form-password\").value;\n    const registerFormConfirmPassword = registerForm.querySelector(\"#register-form-confirm-password\").value;\n\n    registerStatus.innerHTML = `\n      <div class=\"modal-status modal-status-info\">\n        Please wait! We are creating your account.\n      </div>\n    `;\n\n    if (registerFormPassword !== registerFormConfirmPassword) {\n      registerStatus.innerHTML = `\n      <div class=\"modal-status modal-status-info\">\n        Your password do not match\n      </div>\n    `;\n      return\n    }\n    \n    const formData = {\n      name: registerForm.querySelector(\"#register-form-name\").value,\n      surname: registerForm.querySelector(\"#register-form-surname\").value,\n      tel: registerForm.querySelector(\"#register-form-tel\").value,\n      email: registerForm.querySelector(\"#register-form-email\").value,\n      password: registerFormPassword,\n      confirmPassword: registerFormConfirmPassword,\n    };\n\n    const response = await fetch(mos_auth_rest.signup, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(formData),\n    });\n\n    const responseJSON = await response.json();\n\n    if (responseJSON.status === 2) {\n      registerStatus.innerHTML = `\n        <div class=\"modal-status modal-status-success\">\n          Success! Your account has been created.\n        </div>\n      `;\n      location.reload();\n    } else {\n      registerStatus.innerHTML = `\n        <div class=\"modal-status modal-status-danger\">\n          Unable to create account! Please try again later.\n        </div>\n      `;\n    }\n  });\n\n});\n"],"names":["document","addEventListener","registerForm","getElementById","event","preventDefault","registerStatus","querySelector","registerFormPassword","value","registerFormConfirmPassword","innerHTML","formData","name","surname","tel","email","password","confirmPassword","response","fetch","mos_auth_rest","signup","method","headers","body","JSON","stringify","responseJSON","json","status","location","reload"],"sourceRoot":""}