{"version":3,"file":"blocks/order-form/frontend.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,M","sources":["webpack://@wp-mos/blocks/./src/blocks/order-form/frontend.js"],"sourcesContent":["// $().ready(() => {\n//   // TODO check valid\n//   let valid = true;\n//   let speed = null;\n//   let delivery = null;\n//   let totalPrice = null;\n//   let totalPriceDph = null;\n//   let status = null;\n//   let customer = [];\n//   let filesData = [];\n//   let lastWrapperId = 0;\n//   let totalPriceElm = null;\n//   let totalPriceDphElm = null;\n\n//   const loader =\n//     '<div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>';\n\n//   const apiUrl = \"https://betadxf.internetguru.cz/api/v1\";\n//   const backendUrl = \"/wp-content/plugins/interactive-order/api.php\";\n\n//   function addFileWrapperListener(fileWrapper, wrapId) {\n//     fileWrapper.addEventListener(\"change\", (event) => {\n//       calculatePrice(wrapId);\n//     });\n//     fileWrapper\n//       .querySelector(\".form-quantity\")\n//       .addEventListener(\"keydown\", (event) => {\n//         if (event.key === \"Enter\") {\n//           calculatePrice(wrapId);\n//           event.preventDefault();\n//         }\n//         if (event.keyCode == 9) {\n//           calculatePrice(wrapId);\n//         }\n//       });\n//   }\n\n//   function addFileWrapper(fileWrapper, wrapId) {\n//     let newWrapper = fileWrapper.cloneNode(true);\n//     lastWrapperId++;\n//     initFilesData(lastWrapperId, newWrapper);\n//     newWrapper.setAttribute(\"data-filenum\", lastWrapperId);\n//     newWrapper.querySelector(\".form-filestatus\").innerHTML = \"–\";\n//     newWrapper.querySelector(\".form-file\").value = \"\";\n//     newWrapper.querySelector(\".form-quantity\").value = 1;\n//     newWrapper.querySelector(\".form-size\").innerHTML = \"–\";\n//     // newWrapper.querySelector('.form-fileid').innerHTML = '–'\n//     fileWrapper\n//       .querySelector(\".col\")\n//       .insertAdjacentHTML(\n//         \"beforeend\",\n//         `<div><a class=\"form-del btn\" data-id=\"${wrapId}\" href=\"Javascript:void(0);\">Odebrat</a></div>`\n//       );\n//     fileWrapper\n//       .querySelector(\".form-quantity\")\n//       .parentNode.insertAdjacentHTML(\n//         \"afterend\",\n//         `<div><a class=\"form-calc\" title=\"Přepočítat\" href=\"Javascript:void(0);\">⟳</a></div>`\n//       );\n//     fileInput = fileWrapper.querySelector(\".form-file\");\n//     fileName = document.createElement(\"p\");\n//     fileName.innerHTML = fileInput.files[0].name;\n//     fileInput.parentNode.replaceChild(fileName, fileInput);\n//     fileWrapper\n//       .querySelector(\".form-del\")\n//       .addEventListener(\"click\", (event) => {\n//         filesData[event.target.getAttribute(\"data-id\")] = null;\n//         fileWrapper.parentNode.removeChild(fileWrapper);\n//         updateForm();\n//       });\n//     fileWrapper\n//       .querySelector(\".form-calc\")\n//       .addEventListener(\"click\", (event) => {\n//         calculatePrice(wrapId);\n//       });\n//     addFileWrapperListener(newWrapper, lastWrapperId);\n//     fileWrapper.parentNode.insertBefore(\n//       newWrapper,\n//       fileWrapper.nextElementSibling\n//     );\n//   }\n\n//   function initFilesData(wrapperId, wrapperElm) {\n//     filesData[wrapperId] = {\n//       fileWrapper: wrapperElm,\n//       status: null,\n//       lastMod: null,\n//       material: null,\n//       quantity: null,\n//       file: null,\n//       fileHash: null,\n//       fileURL: null,\n//       fileWidth: null,\n//       fileHeight: null,\n//       productPrice: null,\n//       addedWrapper: false,\n//       valid: false,\n//     };\n//   }\n\n//   function formatPrice(num) {\n//     return num.toLocaleString(\"cs-CZ\");\n//   }\n\n//   function formatSize(num) {\n//     return num.replace(/\\..*$/, \"\");\n//   }\n\n//   function updateForm(wrapId) {\n//     totalPrice = 0;\n//     filesData.forEach((file) => {\n//       if (file == null || file.prices == null) {\n//         return;\n//       }\n//       if (\n//         wrapId !== undefined &&\n//         wrapId == file.fileWrapper.getAttribute(\"data-filenum\")\n//       ) {\n//         file.status.innerHTML = loader;\n//       }\n//       var materialSelect = file.fileWrapper.querySelector(\".form-material\");\n//       if (materialSelect.children.length == 1) {\n//         materialSelect.innerHTML = \"\";\n//         file.prices.forEach((priceData) => {\n//           var option = document.createElement(\"option\");\n//           option.value = priceData.materialId;\n//           // option.innerHTML = `${priceData.materialName} (` + formatPrice(priceData.fixPrice) + ' Kč fix + ' + formatPrice(priceData.unitPrice) + ` Kč za 1 ks)`\n//           option.innerHTML = `${priceData.materialName}`;\n//           option.setAttribute(\"data-name\", priceData.materialName);\n//           materialSelect.appendChild(option);\n//         });\n//       }\n//       var quantity = file.fileWrapper.querySelector(\".form-quantity\").value;\n//       var price =\n//         file.prices[materialSelect.selectedIndex].unitPrice * quantity +\n//         file.prices[materialSelect.selectedIndex].fixPrice;\n//       setTimeout(() => {\n//         file.status.innerHTML = `${formatPrice(price)} Kč`;\n//       }, 400);\n//       width = formatSize(file.fileWidth);\n//       height = formatSize(file.fileHeight);\n//       file.fileWrapper.querySelector(\n//         \".form-size\"\n//       ).innerHTML = `${width} × ${height}`;\n//       // file.fileWrapper.querySelector('.form-fileid').innerHTML = `${file.fileHash}`\n//       file.productPrice = price;\n//       totalPrice += price;\n//       file.material =\n//         materialSelect[materialSelect.selectedIndex].getAttribute(\"data-name\");\n//     });\n//     totalPrice = Math.round(totalPrice * speed);\n//     totalPriceDph = Math.round(totalPrice * 1.21);\n//     totalPriceElm.innerHTML = `${formatPrice(totalPrice)} Kč`;\n//     totalPriceDphElm.innerHTML = `${formatPrice(totalPriceDph)} Kč`;\n//   }\n\n//   function getValidFilesCnt() {\n//     cnt = 0;\n//     filesData.forEach((file) => {\n//       if (file == null) {\n//         return;\n//       }\n//       if (!file.valid) {\n//         return;\n//       }\n//       cnt++;\n//     });\n//     return cnt;\n//   }\n\n//   function calculatePrice(wrapId) {\n//     const fileWrapper = filesData[wrapId].fileWrapper;\n//     const fileInputElement = fileWrapper.querySelector(\".form-file\");\n//     const material = fileWrapper.querySelector(\".form-material\").value;\n//     const materialName =\n//       fileWrapper.querySelector(\".form-material\").selectedOptions[0].text;\n//     const quantity = fileWrapper.querySelector(\".form-quantity\").value;\n//     const status = fileWrapper.querySelector(\".form-filestatus\");\n//     let file = null;\n//     if (filesData[wrapId].file == null) {\n//       if (!fileInputElement.value) {\n//         status.innerHTML = \"Zvolte soubor\";\n//         return false;\n//       }\n//       file = fileInputElement.files[0];\n//     } else {\n//       file = filesData[wrapId].file;\n//     }\n//     if (quantity < 1 || quantity > 100) {\n//       status.innerHTML = \"Počet kusů musí být 1 až 100\";\n//       return false;\n//     }\n//     const fileName = file.name;\n//     const lastMod = file.lastModified + fileName;\n//     filesData[wrapId].quantity = quantity;\n//     if (filesData[wrapId].lastMod !== lastMod) {\n//       filesData[wrapId].status = status;\n//       filesData[wrapId].material = materialName;\n//       filesData[wrapId].lastMod = lastMod;\n//       var form = new FormData();\n//       form.append(\"material\", material);\n//       form.append(\"amount\", quantity);\n//       if (filesData[wrapId].valid && filesData[wrapId].fileHash !== null) {\n//         form.append(\"hash\", filesData[wrapId].fileHash);\n//       } else {\n//         form.append(\"file\", file, fileName);\n//       }\n//       var settings = {\n//         url: apiUrl + \"/file\",\n//         method: \"POST\",\n//         timeout: 0,\n//         processData: false,\n//         mimeType: \"multipart/form-data\",\n//         contentType: false,\n//         data: form,\n//       };\n//       status.innerHTML = loader;\n//       $.ajax(settings)\n//         .done((response) => {\n//           const result = JSON.parse(response);\n//           // filesData[wrapId].productPrice = parseInt(result.price)\n//           filesData[wrapId].prices = result.prices;\n//           filesData[wrapId].materialPrices = result.prices;\n//           filesData[wrapId].fileHash = result.hash;\n//           filesData[wrapId].fileURL = (apiUrl + result.path).replace(\n//             \"api/v1/var/www/deploy/dxf/betadxf.internetguru.cz/\",\n//             \"\"\n//           );\n//           filesData[wrapId].fileWidth = result.width;\n//           filesData[wrapId].fileHeight = result.height;\n//           filesData[wrapId].file = file;\n//           filesData[wrapId].valid = true;\n//           if (!filesData[wrapId].addedWrapper) {\n//             addFileWrapper(fileWrapper, wrapId);\n//             filesData[wrapId].addedWrapper = true;\n//           }\n//           updateForm(wrapId);\n//         })\n//         .fail((xhr, statusMesasge, error) => {\n//           const result = JSON.parse(xhr.responseText);\n//           alert(result.error_message);\n//           status.innerHTML = \"–\";\n//           filesData[wrapId].lastMod = null;\n//           filesData[wrapId].valid = false;\n//         });\n//       return;\n//     }\n//     filesData[wrapId].material = quantity;\n//     filesData[wrapId].material = materialName;\n//     updateForm(wrapId);\n//     filesData[wrapId].valid = true;\n//   }\n\n//   function switchStep(oldForm, newForm) {\n//     oldForm.style.display = \"none\";\n//     newForm.style.display = \"block\";\n//     document.getElementById(\"objednavka\").scrollIntoView();\n//   }\n\n//   function saveFormData(form) {\n//     const formData = new FormData(form);\n//     for (let [name, value] of formData) {\n//       var label = document.querySelector(`label[for=\"${name}\"]`).innerHTML;\n//       customer.push({ key: name, value: value, label: label });\n//       const varname = document\n//         .getElementById(name)\n//         .getAttribute(\"data-varname\");\n//       if (varname) {\n//         window[varname] = value;\n//       }\n//     }\n//   }\n\n//   function showSummary(form) {\n//     customer.forEach((item) => {\n//       var elm = form.querySelector(`.${item.key}`);\n//       if (!item.value) {\n//         elm.style.display = \"none\";\n//         return;\n//       }\n//       elm.innerHTML = `${item.label}: ${item.value}`;\n//     });\n//     var orderData = getOrderData();\n//     form.querySelector(\".order-files\").innerHTML = orderData.productSummaryHtml;\n//     form.querySelector(\".order-speed\").innerHTML = orderData.speed;\n//     form.querySelector(\".order-delivery\").innerHTML = orderData.delivery;\n//     form.querySelector(\".order-price\").innerHTML = `${formatPrice(\n//       totalPrice\n//     )} Kč`;\n//     form.querySelector(\".order-pricedph\").innerHTML = `${formatPrice(\n//       totalPriceDph\n//     )} Kč`;\n//   }\n\n//   function getOrderData() {\n//     let data = {};\n//     customer.forEach((item) => {\n//       data[item.key] = item.value;\n//     });\n//     productSummary = \"\";\n//     productSummaryHtml = \"<dl>\";\n//     filesData.forEach((file) => {\n//       if (file == null || file.productPrice == null) {\n//         return;\n//       }\n//       productSummary += `# Soubor ${file.file.name}\n// Odkaz: ${file.fileURL}\n// Materiál: ${file.material}\n// Počet ks: ${file.quantity}\n// Cena bez DPH: ${file.productPrice} Kč\n\n// `;\n//       productSummaryHtml +=\n//         `<dt>Soubor: <a href=\"${file.fileURL}\">${file.file.name}</a></dt>\n// <dd>Materiál: ${file.material}</dd>\n// <dd>Počet ks: ${file.quantity}</dd>\n// <dd>Cena bez DPH: ` +\n//         formatPrice(file.productPrice) +\n//         ` Kč</dd>`;\n//     });\n//     data.productSummaryHtml = productSummaryHtml + \"</dl>\";\n//     data.productSummary = productSummary;\n//     data.delivery = translateDelivery(delivery);\n//     data.speed = translateSpeed(speed);\n//     data.totalPrice = totalPrice;\n//     data.totalPriceDph = totalPriceDph;\n//     return data;\n//   }\n//   function translateSpeed(speed) {\n//     // TODO generate\n//     switch (speed) {\n//       case \"1\":\n//         return \"Standard (do 10 dnů)\";\n//       case \"1.2\":\n//         return \"Zrychlený (do 7 dnů, + 20 %)\";\n//       case \"2\":\n//         return \"Super (do 5 dnů, + 100 %)\";\n//       case \"3\":\n//         return \"Extra (do 2 dnů, + 200 %)\";\n//     }\n//   }\n//   function translateDelivery(delivery) {\n//     // TODO generate\n//     switch (delivery) {\n//       case \"osobniodber\":\n//         return \"Osobní odběr\";\n//       case \"toptrans\":\n//         return \"Top Trans\";\n//     }\n//   }\n\n//   /*\n//   function logPaymentInfo () {\n//     $.ajax({\n//       type: 'POST',\n//       dataType : 'json',\n//       async: false,\n//       url: '/wp-content/plugins/interactive-order/logger/storeCustomerInfo.php',\n//       data: {\n//         'customer': JSON.stringify(getOrderData())\n//       }\n//     })\n//   }\n\n//   function paymentTransfer () {\n//     logPaymentInfo()\n//     let message = ''\n//     $.ajax({\n//       type: 'POST',\n//       async: false,\n//       url: '/wp-content/plugins/interactive-order/logger/sendMail.php',\n//       data: {\n//         type_of_payment: \"transfer\",\n//         email: customerEmail\n//       }\n//     })\n//       .done(() => {\n//         message = 'Email byl úspěšně odeslán.'\n//       })\n//       .fail(() => {\n//         message = 'Email se nepodařilo se odeslat. Zkuste to prosím za chvíli znovu.'\n//       })\n//       .then(() => {\n//         switchStep(forms[2], forms[3])\n//         document.getElementById('status4').innerHTML = message\n//       })\n//   }\n// */\n\n//   function paymentOnline() {\n//     var settings = {\n//       url: myajax.ajaxurl,\n//       method: \"POST\",\n//       headers: {\n//         Accept: \"application/json\",\n//         \"Content-Type\": \"application/x-www-form-urlencoded\",\n//       },\n//       data: {\n//         action: \"gopay\",\n//         nonce: myajax.nonce,\n//         totalPriceDph: totalPriceDph,\n//         customerName: customerName,\n//         customerSurname: customerSurname,\n//         customerEmail: customerEmail,\n//         customerTelefon: customerTelefon,\n//         customerCityAddress: customerCityAddress,\n//         customerStreetAddress: customerStreetAddress,\n//         customerPostalCodeAddress: customerPostalCodeAddress,\n//         /*,\n//         \"comment\": customerComment,\n//         \"company_name\": companyName,\n//         \"company_street_address\": companyStreetAddress,\n//         \"company_city_address\": companyCityAddress,\n//         \"company_postal_code_address\": companyPostalCodeAddress,\n//         \"company_ic\": companyIC,\n//         \"company_dic\": companyDIC\n//         */\n//       },\n//     };\n//     $.ajax(settings)\n//       .done((response) => {\n//         response = JSON.parse(response);\n//         window.location.replace(response.gw_url);\n//       })\n//       .fail((response) => {\n//         console.log(response);\n//       });\n//   }\n\n//   function createCookie(name, value, days) {\n//     var expires;\n//     if (days) {\n//       var date = new Date();\n//       date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n//       expires = \"; expires=\" + date.toGMTString();\n//     } else {\n//       expires = \"\";\n//     }\n//     document.cookie =\n//       encodeURIComponent(name) +\n//       \"=\" +\n//       encodeURIComponent(value) +\n//       expires +\n//       \"; path=/\";\n//   }\n\n//   function saveCookies() {\n//     const data = getOrderData();\n//     for (key in data) {\n//       createCookie(`order-${key}`, data[key], 1);\n//     }\n//   }\n\n//   var forms = document.querySelectorAll(\".form-steps\");\n\n//   // step 1\n//   const fileWrapper = document.querySelector(\".step1-file\");\n//   initFilesData(0, fileWrapper);\n//   speed = document.querySelector(\"input[name=speed]:checked\").value;\n//   delivery = document.querySelector(\"input[name=delivery]:checked\").value;\n//   totalPriceElm = document.getElementById(\"order-price\");\n//   totalPriceDphElm = document.getElementById(\"form-pricedph\");\n//   document.querySelector(\".speed-wrap\").addEventListener(\"change\", (event) => {\n//     speed = event.target.value;\n//     updateForm();\n//   });\n//   document\n//     .querySelector(\".delivery-wrap\")\n//     .addEventListener(\"change\", (event) => {\n//       delivery = event.target.value;\n//     });\n//   addFileWrapperListener(fileWrapper, 0);\n//   forms[0].addEventListener(\"submit\", (event) => {\n//     event.preventDefault();\n//     if (getValidFilesCnt() == 0) {\n//       // TODO highlight error\n//       return false;\n//     }\n//     var msg = document.querySelector(\".status-message\");\n//     if (msg) {\n//       msg.parentNode.removeChild(msg);\n//     }\n//     switchStep(forms[0], forms[1]);\n//     var address = document.querySelector(\".order-address\");\n//     if (delivery == \"osobniodber\") {\n//       address.style.display = \"none\";\n//       address.querySelectorAll(\"input\").forEach((item) => {\n//         item.removeAttribute(\"required\");\n//       });\n//     } else {\n//       address.style.display = \"\";\n//       address.querySelectorAll(\"input\").forEach((item) => {\n//         item.setAttribute(\"required\", \"required\");\n//       });\n//     }\n//     return false;\n//   });\n\n//   // step 2\n//   document.getElementById(\"back1\").addEventListener(\"click\", (event) => {\n//     switchStep(forms[1], forms[0]);\n//   });\n//   forms[1].addEventListener(\"submit\", (event) => {\n//     saveFormData(forms[1]);\n//     switchStep(forms[1], forms[2]);\n//     showSummary(forms[2]);\n//     event.preventDefault();\n//     return false;\n//   });\n\n//   // step 3\n//   document.getElementById(\"back2\").addEventListener(\"click\", (event) => {\n//     switchStep(forms[2], forms[1]);\n//   });\n//   forms[2].addEventListener(\"submit\", (event) => {\n//     event.preventDefault();\n//     return false;\n//   });\n//   document\n//     .getElementById(\"third-submited-payment-transfer\")\n//     .addEventListener(\"click\", (event) => {\n//       saveCookies();\n//       window.location.replace(\"?sendmail\");\n//       // paymentTransfer()\n//     });\n//   document\n//     .getElementById(\"third-submited-payment-online\")\n//     .addEventListener(\"click\", (event) => {\n//       saveCookies();\n//       paymentOnline();\n//     });\n//   if (\n//     window.location.search.startsWith(\"?id\") ||\n//     window.location.search.startsWith(\"?sendmail\")\n//   ) {\n//     document.getElementById(\"objednavka\").scrollIntoView();\n//   }\n\n//   /************************/\n\n//   var Config = {};\n\n//   Config.ns = \"hideable\";\n//   Config.expand = \"►\";\n//   Config.collapse = \"▼\";\n//   Config.expandTitle = \"Zobrazit\";\n//   Config.collapseTitle = \"Skrýt\";\n//   Config.hideableHiddenClass = Config.ns + \"-hidden\";\n//   Config.hideableNohideClass = Config.ns + \"-nohide\";\n//   Config.hideClass = Config.ns + \"-hide\";\n//   Config.switchClass = Config.ns + \"-switch\";\n//   Config.noprintClass = \"noprint\";\n//   Config.hereClass = Config.ns + \"-here\";\n//   Config.afterClass = Config.ns + \"-after\";\n//   Config.after = \"Details\";\n//   Config.dataHere = \"data-\" + Config.ns + \"-here\"; // TODO\n//   Config.dataAfter = \"data-\" + Config.ns + \"-after\"; // TODO\n\n//   var Hideable = function () {\n//     var inited = false;\n\n//     var initHideables = function () {\n//       var hideables = document.querySelectorAll(\n//         \".\" + Config.hideableHiddenClass + \", .\" + Config.hideableNohideClass\n//       );\n//       for (var i = 0; i < hideables.length; i++) {\n//         var link = initToggleButton(hideables[i]);\n//         if (link === null) {\n//           continue;\n//         }\n//         if (hideables[i].classList.contains(Config.hideableNohideClass)) {\n//           continue;\n//         }\n//         hideables[i].classList.add(Config.hideableNohideClass);\n//         toggleElement(link);\n//       }\n//     };\n\n//     var createToggleButton = function (value) {\n//       var link = document.createElement(\"a\");\n//       link.href = \"Javascript:void(0)\";\n//       linkButton = document.createElement(\"span\");\n//       linkButton.innerHTML = Config.collapse;\n//       link.appendChild(linkButton);\n//       link.title = Config.collapseTitle;\n//       link.classList.add(Config.switchClass);\n//       link.classList.add(Config.noprintClass);\n//       link.addEventListener(\"click\", toggle, false);\n//       link.innerHTML += \" \" + value;\n//       return link;\n//     };\n\n//     var initToggleButton = function (hideable) {\n//       for (var i = hideable.children.length - 1; i >= 0; i--) {\n//         var item = hideable.children[i];\n//         var here = item.classList.contains(Config.hereClass);\n//         var after = item.classList.contains(Config.afterClass);\n//         if (here) {\n//           var value = item.innerHTML;\n//           var button = createToggleButton(value);\n//           item.innerHTML = \"\";\n//           item.appendChild(button);\n//           return button;\n//         }\n//         if (after) {\n//           var value = Config.after;\n//           var button = createToggleButton(value);\n//           var el = document.createElement(item.nodeName);\n//           el.appendChild(button);\n//           item.parentNode.insertBefore(el, item.nextSibling);\n//           return button;\n//         }\n//       }\n//       return null;\n//     };\n\n//     var toggle = function (e) {\n//       var target = e.currentTarget;\n//       toggleElement(target);\n//       e.preventDefault();\n//     };\n\n//     var toggleElement = function (link) {\n//       var e = link.parentNode.parentNode;\n//       var linkButton = link.children[0];\n//       if (e.classList.contains(Config.hideableNohideClass)) {\n//         e.classList.remove(Config.hideableNohideClass);\n//         e.classList.add(Config.hideableHiddenClass);\n//         linkButton.innerHTML = Config.expand;\n//         link.title = Config.expandTitle;\n//       } else {\n//         e.classList.remove(Config.hideableHiddenClass);\n//         e.classList.add(Config.hideableNohideClass);\n//         linkButton.innerHTML = Config.collapse;\n//         link.title = Config.collapseTitle;\n//       }\n//       for (var i = e.childNodes.length - 1; i > 0; i--) {\n//         var ch = e.childNodes[i];\n//         if (ch.nodeType !== 1) {\n//           continue;\n//         }\n//         if (\n//           ch.firstChild.classList &&\n//           ch.firstChild.classList.contains(Config.switchClass)\n//         ) {\n//           return;\n//         }\n//         if (ch.classList.contains(Config.hideableNohideClass)) {\n//           continue;\n//         }\n//         if (ch.classList.contains(Config.hideClass)) {\n//           ch.classList.remove(Config.hideClass);\n//         } else {\n//           ch.classList.add(Config.hideClass);\n//         }\n//       }\n//     };\n\n//     // public\n//     return {\n//       init: function (cfg) {\n//         if (inited) return;\n//         /*\n//         var css = ''\n//           + ' .' + Config.hideClass + ' { display: none !important; }'\n//           + ' a.' + Config.switchClass + ' { text-decoration: none;'\n//           + ' border: none !important;'\n//           + ' font-family: \"Emilbus Mono\", \"Lucida Console\", monospace;'\n//           + ' font-weight: bold }';\n//         IGCMS.appendStyle(css);\n//         */\n//         initHideables();\n//         inited = true;\n//       },\n//       isInit: function () {\n//         return inited;\n//       },\n//     };\n//   };\n\n//   var hideable = new Hideable();\n//   hideable.init();\n// });\n"],"names":[],"sourceRoot":""}